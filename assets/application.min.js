"use strict";var $windowWidth=$(window).width()+15;function initScripts(){var t,i,e=gsap.timeline().add(gsap.to(".js-nav-item",{duration:.4,left:0,stagger:.12,ease:"back.out(1.4)"})).pause();$(".js-open-menu").click(function(){$(this).toggleClass("active"),$(this).hasClass("active")?($(".js-main-menu").fadeIn("fast"),e.play()):e.reverse().then(function(){$(".js-main-menu").fadeOut("fast")})}),$(".js-main-menu a").click(function(){e.reverse().then(function(){$(".js-main-menu").fadeOut("fast"),$(".js-open-menu").removeClass("active")})}),0<$(".js-wave").length&&$(".js-wave").wavify({height:20,bones:4,amplitude:30,speed:.15}),0<$(".js-wave2").length&&$(".js-wave2").wavify({height:20,bones:5,amplitude:25,speed:.13}),0<$(".js-wave--small").length&&$(".js-wave--small").wavify({height:5,bones:7,amplitude:8,speed:.13}),$(".js-destacado-slider").length&&(t=$(".js-destacado-slider"),i=$(".js-slider-tab"),t.slick({slidesToShow:1,slidesToScroll:1,arrows:!0}),i.click(function(){var e=$(this).data("slide-to");t.slick("slickGoTo",e)}),t.on("afterChange",function(e,t,a,o){i.removeClass("active"),$('.js-slider-tab[data-slide-to="'+a+'"]').addClass("active")}));var a=1;function o(){$(".js-quantity").text(a)}$(".js-add").click(function(){a+=1,o()}),$(".js-remove").click(function(){0<a&&--a,o()}),$(".js-add-to-cart").click(function(){document.getElementById("quantity").value=a}),gsap.timeline().to(".mask-path",{rotate:"30deg",scale:1.02,duration:12,transformOrigin:"50% 50%",yoyo:!0,repeat:-1,yoyoEase:"linear"}),gsap.timeline().to(".mask-path-2",{rotate:"-10deg",scale:1.02,duration:12,transformOrigin:"50% 50%",yoyo:!0,repeat:-1,yoyoEase:"linear"}),gsap.timeline().to(".mask-path-2a",{rotate:"-15deg",scale:1.02,duration:10,transformOrigin:"50% 50%",yoyo:!0,repeat:-1,yoyoEase:"linear"})}function initNosotros(){gsap.registerPlugin(ScrollTrigger);var e=gsap.timeline().to(".js-title-1, .js-image-1",{opacity:0,duration:.3},"+=1.2").to(".js-title-2, .js-image-2",{opacity:1,duration:.3},"-=0.15").to(".js-title-2, .js-image-2",{opacity:0,duration:.3},"+=2.3").to(".js-title-3, .js-image-3",{opacity:1,duration:.3},"-=0.15").to(".js-title-3, .js-image-3",{opacity:1,duration:1}),t=gsap.timeline().to(".js-text-1",{translateY:"-100%",duration:.3}).to(".js-text-2",{translateY:"-100%",duration:.9},"-=0.25").to(".js-text-3",{translateY:"0",duration:.6},"-=0.5");ScrollTrigger.create({animation:e,trigger:".js-wrap-nosotros",pin:!0,scrub:!0,start:"top 50px",end:"bottom 50px",markers:!0}),ScrollTrigger.create({animation:t,trigger:".js-wrap-nosotros",pin:!0,scrub:!0,start:"top 50px",end:"bottom 50px",markers:!0})}function overlay(e){gsap.timeline().set(".animated",{backgroundColor:e}).to(".animated",{duration:.75,scaleY:1,ease:"power2.out"})}function pageLeave(){gsap.timeline().to(".main-hero-content, .hero-link",{opacity:0,duration:.3,ease:"power1.out"}).to(".main-hero-img",{opacity:0,duration:.3,ease:"power1.out"},"-=0.2")}function pageEnter(){gsap.timeline().from(".main-hero-content, .hero-link",{opacity:0,duration:.3,ease:"power1.in"},"+=0.5").from(".main-hero-img",{opacity:0,duration:.3,ease:"power1.in"},"-=0.2")}function delay(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise(function(e){setTimeout(function(){e()},t)})}function setActiveMenu(e){$(".js-nav-item a").removeClass("current"),0<$('.js-nav-item a[data-page="'.concat(e,'"]')).length&&$('.js-nav-item a[data-page="'.concat(e,'"]')).addClass("current")}$(window).on("load resize",function(){var e=localStorage.getItem("reloaded");($windowWidth=$(this).width()+15)<768?("No"===e&&window.location.reload(),localStorage.setItem("reloaded","Yes")):("Yes"===e&&window.location.reload(),localStorage.setItem("reloaded","No"))}),barba.init({transitions:[{leave:function(){var e=this.async();pageLeave(),delay(600).then(function(){e()})},afterLeave:function(e){var t,a=this.async();switch(setActiveMenu(e.next.namespace),e.next.namespace){case"home":case"blog":t="#79cadd";break;case"nosotros":case"contacto":t="#ffcd67";break;case"libros":t="#eea78e",gsap.timeline().set(".animated",{height:"60vh"});break;case"single-blog":setActiveMenu("blog");break;default:t="#ffffff"}overlay(t),delay(900).then(function(){a()})},enter:function(){pageEnter()},once:function(){pageEnter()}}]}),barba.hooks.beforeEnter(function(){window.scrollTo(0,0)}),barba.hooks.after(function(e){switch(e.next.namespace){case"nosotros":initNosotros(),initScripts();break;default:initScripts()}}),barba.hooks.afterOnce(function(e){switch(e.next.namespace){case"nosotros":initNosotros(),initScripts();break;default:initScripts()}});