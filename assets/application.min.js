"use strict";function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var $windowWidth=$(window).width()+15;function initScripts(){var e,t,o,a,i,n,s,r=gsap.timeline().add(gsap.to(".js-nav-item",{duration:.4,left:0,stagger:.12,ease:"back.out(1.4)"})).pause();function d(e,t,o){var a,i="show"===t?1:0,n="show"===t?0:"-100%";return gsap.timeline().to(e,(_defineProperty(a={duration:.5},o,n),_defineProperty(a,"opacity",i),_defineProperty(a,"ease","Power2.in"),a))}$(".js-open-menu").click(function(){$(this).toggleClass("active"),$(this).hasClass("active")?($(".js-main-menu").fadeIn("fast"),r.play()):r.reverse().then(function(){$(".js-main-menu").fadeOut("fast")})}),$(".js-main-menu a").click(function(){r.reverse().then(function(){$(".js-main-menu").fadeOut("fast"),$(".js-open-menu").removeClass("active")})}),$(".js-nosotros-trigger").length&&(e=function(){return(new ScrollMagic.Scene).triggerElement(".js-nosotros-trigger").duration("300%").triggerHook(0).offset(-70).setPin(".js-wrap-nosotros").setTween(t).addTo(o)},t=gsap.timeline().add(d(".js-title-1","hide","left"),1).add(d(".js-image-1","hide","left"),"-=0.3").add(d(".js-text-1","hide","right"),"-=0.3").add(d(".js-title-2","show","left")).add(d(".js-image-2","show","left"),"-=0.3").add(d(".js-text-2","show","right"),"-=0.3").add(d(".js-title-2","hide","left"),"<2").add(d(".js-image-2","hide","left"),"-=0.3").add(d(".js-text-2","hide","right"),"-=0.3").add(d(".js-title-3","show","left")).add(d(".js-image-3","show","left"),"-=0.3").add(d(".js-text-3","show","right"),"-=0.3").add(d(".js-title-3","show","left")).add(d(".js-image-3","show","left")).add(d(".js-text-3","show","right")),o=new ScrollMagic.Controller,a=e(),i=function(){($windowWidth=$(window).width()+15)<768?a.destroy(!0):document.querySelector("[data-scrollmagic-pin-spacer]")||(t.progress(0),a=e())},window.onresize=i,window.onload=i),$(".js-producto-slider").length&&(n=$(".js-producto-slider"),s=$(".js-slider-tab"),n.slick({slidesToShow:1,slidesToScroll:1,arrows:!0}),s.click(function(){var e=$(this).data("slide-to");n.slick("slickGoTo",e)}),n.on("afterChange",function(e,t,o,a){s.removeClass("active"),$('.js-slider-tab[data-slide-to="'+o+'"]').addClass("active")}))}function overlay(e){gsap.timeline().set(".animated",{backgroundColor:e}).to(".animated",{duration:1,scaleY:1,ease:"bounce.out"})}function pageLeave(){gsap.timeline().to(".main-hero-content, .hero-link",{opacity:0,duration:.3,ease:"power1.out"}).to(".main-hero-img",{opacity:0,duration:.3,ease:"power1.out"},"-=0.2")}function pageEnter(){gsap.timeline().from(".main-hero-content, .hero-link",{opacity:0,duration:.3,ease:"power1.in"},"+=0.5").from(".main-hero-img",{opacity:0,duration:.3,ease:"power1.in"},"-=0.2")}function delay(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise(function(e){setTimeout(function(){e()},t)})}$(window).on("load resize",function(){var e=localStorage.getItem("reloaded");($windowWidth=$(this).width()+15)<768?("No"===e&&window.location.reload(),localStorage.setItem("reloaded","Yes")):("Yes"===e&&window.location.reload(),localStorage.setItem("reloaded","No"))}),barba.init({transitions:[{leave:function(){var e=this.async();pageLeave(),delay(600).then(function(){e()})},afterLeave:function(e){var t,o=this.async();switch(console.log(e.next.namespace),e.next.namespace){case"home":case"blog":t="#79cadd";break;case"nosotros":case"contacto":t="#ffcd67";break;case"libros":t="#eea78e",gsap.timeline().set(".animated",{height:"60vh"});break;default:t="#ffffff"}overlay(t),delay(900).then(function(){o()})},enter:function(){pageEnter()},once:function(){pageEnter()}}]}),barba.hooks.after(function(){initScripts()}),barba.hooks.afterOnce(function(){initScripts()});